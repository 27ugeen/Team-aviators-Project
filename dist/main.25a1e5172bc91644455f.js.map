{"version":3,"sources":["webpack:///./templates/filmListMarkupFromLocalStor.hbs","webpack:///./components/utils/refs.js","webpack:///./components/view/toTopButton.js","webpack:///./templates/homePageMarkup.js","webpack:///./components/services/initialFetchApi.js","webpack:///./components/services/fetchMovieDetails.js","webpack:///./components/vendors/pnotifyAlert.js","webpack:///./components/localStorage/localStorage.js","webpack:///./components/view/buttonCheck.js","webpack:///./components/4filmDetailsPage.js","webpack:///./components/services/fetchSearchMovies.js","webpack:///./components/2searchAndPlaginationHomePage.js","webpack:///./components/1InitialHomePage.js","webpack:///./templates/myLibPageMarkup.js","webpack:///./components/5libraryPage.js","webpack:///./components/3navigation.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","id","call","votes","title","year","poster","refs","homePage","document","querySelector","detailsPage","myLibList","ScrollButton","logo","homeButton","myLibButton","toTop","body","scrollTop","documentElement","addEventListener","homePageMarkup","initialFetchAPI","page","fetchPopularFilms","fetch","baseURL","this","then","res","json","catch","console","log","incrementPage","decrementPage","key","fetchMovieDetails","target","closest","dataset","index","PNotify","defaults","minWidth","width","maxWidth","delay","styling","icons","mouseReset","pnotifyAlert","type","window","stackBottomRight","dir1","dir2","firstpos1","firstpos2","opts","text","stack","modules","Desktop","desktop","History","maxInStack","Animate","animate","inClass","outClass","alert","setWatchedLocalStorage","e","newItem","poster_path","vote_average","release_date","slice","oldItems","JSON","parse","localStorage","getItem","map","includes","filteredItems","filter","obj","setItem","stringify","push","setQueueLocalStorage","buttonCheckWatched","elem","array","idOfItem","Number","buttonWatch","lastElementChild","firstElementChild","classList","add","remove","buttonCheckQueue","buttonQueue","activeToggle","hasAttribute","toggle","backToPrevViewPage","makeHomePage","typeOfQueueForBack","listType","counterType","ToLocalStorageFromDetailsPage","contains","event","drawMovieDetails","myLibHome","innerHTML","movie","idOfStorageItems","insertAdjacentHTML","vote_count","popularity","original_title","genres","name","join","overview","backButton","forMyLibButtons","detailsPageButtonCheckQueue","removeEventListener","searchFetch","query","fetchSearchMovies","changePageNumber","currentPage","pageButton","textContent","nextPage","makeOnePage","prevPage","changeSearchPageNumber","nextSearchPage","searchMovies","prevSearchPage","debounce","require","registerHelper","aString","paginationSection","prevButton","nextButton","searchInput","firstSearchMovies","firstTimeHomePage","results","result","ToLocalStorage","movieItems","querySelectorAll","storageWatchedItems","storageQueueItems","idOfWathcedItems","idOfQueueItems","Array","from","el","warn","input","value","length","myLibPageMarkup","initialMyLibPage","watchedButton","queueButton","makeListOfWatched","makeLibPage","makeListOfQueue","makeLibPageFromQueue","fromLocalStorage","markup","filmListMarkupFromLocalStor","makeLibPageFromWathed"],"mappings":"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","file":"main.25a1e5172bc91644455f.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"home__list-item forJS\\\" data-index=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":46},\"end\":{\"line\":1,\"column\":52}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"home__list--cover\\\">\\r\\n        <div class=\\\"home__list-rate\\\">\\r\\n            <p>\"\n    + alias4(((helper = (helper = helpers.votes || (depth0 != null ? depth0.votes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"votes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":15},\"end\":{\"line\":4,\"column\":24}}}) : helper)))\n    + \"</p>\\r\\n        </div>\\r\\n        <h2 class=\\\"home__list-header\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":38},\"end\":{\"line\":8,\"column\":12}}}) : helper)))\n    + \" (\"\n    + alias4(((helper = (helper = helpers.year || (depth0 != null ? depth0.year : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"year\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":14},\"end\":{\"line\":8,\"column\":22}}}) : helper)))\n    + \")</h2>\\r\\n    </div>\\r\\n    <img class=\\\"home__list-item__img\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.poster || (depth0 != null ? depth0.poster : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":43},\"end\":{\"line\":12,\"column\":10}}}) : helper)))\n    + \"\\\" alt=\\\"poster of \"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":27},\"end\":{\"line\":12,\"column\":36}}}) : helper)))\n    + \"\\\" />\\r\\n    <div class=\\\"home__list--hover\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"home__list--hover-star for_button\\\">Watched</button>\\r\\n        <button type=\\\"button\\\" class=\\\"home__list--hover-heart for_button\\\">Queue</button>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","const refs = {\n  homePage: document.querySelector('#home-page'),\n  detailsPage: document.querySelector('#film-info'),\n  myLibList: document.querySelector('#mylib-list'),\n  ScrollButton: document.querySelector('.scroll__button'),\n  logo: document.querySelector('#logo-button'),\n  homeButton: document.querySelector('#home-button'),\n  myLibButton: document.querySelector('#library-button'),\n};\n\nexport default refs;\n","import refs from '../utils/refs';\n\nfunction toTop() {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n}\n\nrefs.ScrollButton.addEventListener('click', toTop);\n\nexport default toTop;\n","const homePageMarkup = `  \n<form action=\"#\" class=\"home__search\">\n  <input\n    id=\"search-input\"\n    type=\"\"\n    name=\"query\"\n    placeholder=\"Write here movie name :)\"\n    class=\"home__input\"\n  />\n</form>\n<ul id=\"mylib-home\" class=\"list home__list\"></ul>\n<div class=\"home__button\">\n<button type=\"button\" id=\"button-prev\" class=\"btn home__button-prew\">Prev</button>\n<button type=\"button\" id=\"button-page\" class=\"btn home__button-page\">1</button>\n<button type=\"button\" id=\"button-next\" class=\"btn home__button-next\">Next</button>\n</div>`;\n\nexport default homePageMarkup;\n","const key = '259c02d1f1f516a6001436d2cce8084d';\nconst baseURL = 'https://api.themoviedb.org/3/movie';\n\nconst initialFetchAPI = {\n  page: 1,\n  fetchPopularFilms() {\n    return fetch(`${baseURL}/popular?api_key=${key}&page=${this.page}`)\n      .then(res => res.json())\n      .catch(console.log);\n  },\n  incrementPage() {\n    this.page++;\n  },\n  decrementPage() {\n    this.page--;\n  },\n};\n\nexport default initialFetchAPI;\n","const key = '259c02d1f1f516a6001436d2cce8084d';\nconst baseURL = 'https://api.themoviedb.org/3/movie';\n\nfunction fetchMovieDetails({ target }) {\n  return fetch(\n    `${baseURL}/${target.closest('.forJS').dataset.index}?api_key=${key}`,\n  )\n    .then(res => res.json())\n    .catch(console.log);\n}\n\nexport default fetchMovieDetails;\n","import PNotify from 'pnotify/dist/es/PNotify';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nPNotify.defaults.minWidth = '280px';\r\nPNotify.defaults.width = '80%';\r\nPNotify.defaults.maxWidth = '420px';\r\nPNotify.defaults.delay = 5000;\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\nPNotify.defaults.mouseReset = false;\r\n\r\nfunction pnotifyAlert(type, title) {\r\n  if (typeof window.stackBottomRight === 'undefined') {\r\n    window.stackBottomRight = {\r\n      dir1: 'up',\r\n      dir2: 'left',\r\n      firstpos1: 25,\r\n      firstpos2: 25,\r\n    };\r\n  }\r\n  const opts = {\r\n    title: 'Hey! :)',\r\n    text: `you have added \"${title}\" to the queue list!`,\r\n    type: 'success',\r\n    stack: window.stackBottomRight,\r\n    modules: {\r\n      Desktop: {\r\n        desktop: true,\r\n      },\r\n      History: {\r\n        maxInStack: 2,\r\n      },\r\n      Animate: {\r\n        animate: true,\r\n        inClass: 'zoomInLeft',\r\n        outClass: 'zoomOutRight',\r\n      },\r\n    },\r\n  };\r\n  switch (type) {\r\n    case 'addWatched':\r\n      opts.title = 'Congrats! :)';\r\n      opts.text = `You have added \"${title}\" to the watched list!`;\r\n      opts.type = 'success';\r\n      break;\r\n    case 'addQueue':\r\n      opts.title = 'Hey! :)';\r\n      opts.text = `you have added \"${title}\" to the queue list!`;\r\n      opts.type = 'success';\r\n      break;\r\n    case 'removeWatched':\r\n      opts.title = 'Okey :)';\r\n      opts.text = `So \"${title}\" is not anymore in your watched list!`;\r\n      opts.type = 'info';\r\n      break;\r\n    case 'removeQueue':\r\n      opts.title = 'Hey :)';\r\n      opts.text = `You just removed \"${title}\" from your queue list!`;\r\n      opts.type = 'info';\r\n      break;\r\n  }\r\n  PNotify.alert(opts);\r\n}\r\n\r\nexport default pnotifyAlert;\r\n","import fetchMovieDetails from '../services/fetchMovieDetails';\r\nimport pnotifyAlert from '../vendors/pnotifyAlert';\r\n\r\nfunction setWatchedLocalStorage(e) {\r\n  const newItem = {};\r\n  fetchMovieDetails(e).then(data => {\r\n    newItem.id = data.id;\r\n    newItem.poster = `http://image.tmdb.org/t/p/w500${data.poster_path}`;\r\n    newItem.title = data.title;\r\n    newItem.votes = data.vote_average;\r\n    newItem.year = data.release_date.slice(0, 4);\r\n    const oldItems = JSON.parse(localStorage.getItem('watched')) || [];\r\n\r\n    const idOfOldItems = oldItems.map(({ id }) => id);\r\n\r\n    if (idOfOldItems.includes(data.id)) {\r\n      const filteredItems = oldItems.filter(obj => obj.id !== data.id);\r\n      localStorage.setItem('watched', JSON.stringify(filteredItems));\r\n      return pnotifyAlert('removeWatched', data.title);\r\n    }\r\n    oldItems.push(newItem);\r\n    localStorage.setItem('watched', JSON.stringify(oldItems));\r\n    pnotifyAlert('addWatched', data.title);\r\n  });\r\n}\r\n\r\nfunction setQueueLocalStorage(e) {\r\n  const newItem = {};\r\n  fetchMovieDetails(e).then(data => {\r\n    newItem.id = data.id;\r\n    newItem.poster = `http://image.tmdb.org/t/p/w500${data.poster_path}`;\r\n    newItem.title = data.title;\r\n    newItem.votes = data.vote_average;\r\n    newItem.year = data.release_date.slice(0, 4);\r\n    const oldItems = JSON.parse(localStorage.getItem('queue')) || [];\r\n    const idOfOldItems = oldItems.map(({ id }) => id);\r\n\r\n    if (idOfOldItems.includes(data.id)) {\r\n      const filteredItems = oldItems.filter(obj => obj.id !== data.id);\r\n      localStorage.setItem('queue', JSON.stringify(filteredItems));\r\n      return pnotifyAlert('removeQueue', data.title);\r\n    }\r\n    oldItems.push(newItem);\r\n    localStorage.setItem('queue', JSON.stringify(oldItems));\r\n    pnotifyAlert('addQueue', data.title);\r\n  });\r\n}\r\n\r\nexport { setWatchedLocalStorage, setQueueLocalStorage };\r\n","function buttonCheckWatched(elem, array) {\r\n  const idOfItem = Number(elem.dataset.index);\r\n  const buttonWatch = elem.lastElementChild.firstElementChild;\r\n\r\n  if (array.includes(idOfItem)) {\r\n    buttonWatch.classList.add('inList');\r\n    return;\r\n  }\r\n  buttonWatch.classList.remove('inList');\r\n  return;\r\n}\r\n\r\nfunction buttonCheckQueue(elem, array) {\r\n  const idOfItem = Number(elem.dataset.index);\r\n  const buttonQueue = elem.lastElementChild.lastElementChild;\r\n\r\n  if (array.includes(idOfItem)) {\r\n    buttonQueue.classList.add('inList');\r\n    return;\r\n  }\r\n  buttonQueue.classList.remove('inList');\r\n  return;\r\n}\r\n\r\nfunction detailsPageButtonCheckWatch(elem) {\r\n  const idOfItem = Number(elem.dataset.index);\r\n  const storageItems = JSON.parse(localStorage.getItem('queue')) || [];\r\n\r\n  const idOfStorageItems = storageItems.map(({ id }) => id);\r\n  const buttonQueue = elem.firstElementChild;\r\n\r\n  if (idOfStorageItems.includes(idOfItem)) {\r\n    buttonQueue.classList.add('inList');\r\n    return;\r\n  }\r\n  buttonQueue.classList.remove('inList');\r\n  return;\r\n}\r\n\r\nfunction detailsPageButtonCheckQueue(elem) {\r\n  const idOfItem = Number(elem.dataset.index);\r\n  const storageItems = JSON.parse(localStorage.getItem('queue')) || [];\r\n\r\n  const idOfStorageItems = storageItems.map(({ id }) => id);\r\n  const buttonQueue = elem.lastElementChild;\r\n\r\n  if (idOfStorageItems.includes(idOfItem)) {\r\n    buttonQueue.classList.add('inList');\r\n    return;\r\n  }\r\n  buttonQueue.classList.remove('inList');\r\n  return;\r\n}\r\n\r\nfunction activeToggle({ target }) {\r\n  if (!target.hasAttribute('type')) {\r\n    return;\r\n  }\r\n  target.classList.toggle('inList');\r\n}\r\n\r\nexport {\r\n  buttonCheckWatched,\r\n  buttonCheckQueue,\r\n  activeToggle,\r\n  detailsPageButtonCheckWatch,\r\n  detailsPageButtonCheckQueue,\r\n};\r\n","import refs from './utils/refs';\nimport initialFetchAPI from './services/initialFetchApi';\nimport fetchMovieDetails from './services/fetchMovieDetails';\nimport { makeHomePage, typeOfQueueForBack } from './1InitialHomePage';\nimport {\n  setWatchedLocalStorage,\n  setQueueLocalStorage,\n} from './localStorage/localStorage';\nimport {\n  activeToggle,\n  detailsPageButtonCheckWatch,\n  detailsPageButtonCheckQueue,\n} from './view/buttonCheck';\n\nfunction drawMovieDetails({ target }) {\n  if (\n    !target.classList.contains('home__list--cover') ||\n    target.classList.contains('home__list--hover-button')\n  ) {\n    return;\n  }\n\n  refs.myLibHome.innerHTML = '';\n  refs.myLibList.innerHTML = '';\n  refs.homePage.innerHTML = '';\n  fetchMovieDetails(event).then(movie => {\n    refs.detailsPage.insertAdjacentHTML(\n      'afterbegin',\n      `<img\n      class=\"film-details-image\"\n      src=\"http://image.tmdb.org/t/p/w500${movie.poster_path}\"\n      alt=\"${movie.title}\"\n    />\n    <h2 class=\"film-details-title\">${movie.title} (${movie.release_date.slice(\n        0,\n        4,\n      )})</h2>\n    <ul class=\"film-info\">\n      <li class=\"film-info-item green-item\">\n        <div class=\"film-info-item__note first-note\">vote / votes</div>\n        <div class=\"film-info-item__note next-note\">${movie.vote_average}  / ${\n        movie.vote_count\n      }</div>\n      </li>\n      <li class=\"film-info-item white-item\">\n        <div class=\"film-info-item__note first-note\">popularity</div>\n        <div class=\"film-info-item__note next-note\">${movie.popularity}</div>\n      </li>\n      <li class=\"film-info-item green-item\">\n        <div class=\"film-info-item__note first-note\">original title</div>\n        <div class=\"film-info-item__note next-note\">${\n          movie.original_title\n        }</div>\n      </li>\n      <li class=\"film-info-item white-item\">\n        <div class=\"film-info-item__note first-note\">genre</div>\n        <div class=\"film-info-item__note next-note\">\n          ${movie.genres.map(e => e.name).join(', ')}\n        </div>\n      </li>\n    </ul>\n    <h3 class=\"film-details-semititle forJS\" >About</h3>\n    <p class=\"film-details-text\">\n      ${movie.overview}\n    </p>\n    <div class=\"forJS film-details--hover\" data-index=\"${movie.id}\">\n    <button type=\"button\" class=\"film-details--hover-star for_details-button\">Watched</button>\n    <button type=\"button\" class=\"film-details--hover-heart for_details-button\">Queue</button>\n    </div>\n    <button type=\"button\" id=\"button-back\" class=\"btn film-details__button-back\">Back</button>`,\n    );\n    refs.backButton = document.querySelector('#button-back');\n    refs.forMyLibButtons = document.querySelector('.film-details--hover');\n    refs.backButton.addEventListener('click', backToPrevViewPage);\n    refs.detailsPage.addEventListener('click', ToLocalStorageFromDetailsPage);\n    refs.forMyLibButtons.addEventListener('click', activeToggle);\n    detailsPageButtonCheckWatch(refs.forMyLibButtons);\n    detailsPageButtonCheckQueue(refs.forMyLibButtons);\n  });\n\n  refs.myLibHome.removeEventListener('click', fetchMovieDetails);\n}\n\nconst backToPrevViewPage = () => {\n  makeHomePage();\n  typeOfQueueForBack.listType();\n  typeOfQueueForBack.counterType();\n};\n\nfunction ToLocalStorageFromDetailsPage({ target }) {\n  if (target.classList.contains('film-details--hover-star')) {\n    setWatchedLocalStorage(event);\n  } else if (target.classList.contains('film-details--hover-heart')) {\n    setQueueLocalStorage(event);\n  } else {\n    return;\n  }\n}\n\nexport default drawMovieDetails;\n","const key = '259c02d1f1f516a6001436d2cce8084d';\r\nconst baseURL = 'https://api.themoviedb.org/3/search/movie';\r\n\r\nconst searchFetch = {\r\n  query: '',\r\n  page: 1,\r\n  fetchSearchMovies() {\r\n    return fetch(\r\n      `${baseURL}?api_key=${key}&page=${this.page}&query=${this.query}`,\r\n    )\r\n      .then(res => res.json())\r\n      .catch(console.log);\r\n  },\r\n  incrementPage() {\r\n    this.page++;\r\n  },\r\n  decrementPage() {\r\n    this.page--;\r\n  },\r\n};\r\n\r\nexport default searchFetch;\r\n","import refs from './utils/refs';\nimport initialFetchAPI from './services/initialFetchApi';\nimport { makeOnePage, searchMovies } from './1InitialHomePage';\nimport searchFetch from './services/fetchSearchMovies';\n\nconst changePageNumber = () => {\n  const currentPage = initialFetchAPI.page;\n\n  return (refs.pageButton.textContent = currentPage);\n};\n\nconst nextPage = () => {\n  refs.myLibHome.innerHTML = '';\n\n  initialFetchAPI.incrementPage();\n  makeOnePage();\n  changePageNumber();\n};\n\nconst prevPage = () => {\n  const currentPage = initialFetchAPI.page;\n\n  if (currentPage <= 1) {\n    return;\n  }\n\n  refs.myLibHome.innerHTML = '';\n\n  initialFetchAPI.decrementPage();\n\n  makeOnePage();\n  changePageNumber();\n};\n\nconst changeSearchPageNumber = () => {\n  const currentPage = searchFetch.page;\n\n  return (refs.pageButton.textContent = currentPage);\n};\n\nconst nextSearchPage = () => {\n  refs.myLibHome.innerHTML = '';\n\n  searchFetch.incrementPage();\n\n  searchMovies();\n  changeSearchPageNumber();\n};\n\nconst prevSearchPage = () => {\n  const currentPage = searchFetch.page;\n\n  if (currentPage <= 1) {\n    return;\n  }\n\n  refs.myLibHome.innerHTML = '';\n\n  searchFetch.decrementPage();\n\n  searchMovies();\n  changeSearchPageNumber();\n};\n\nexport {\n  nextPage,\n  prevPage,\n  changePageNumber,\n  nextSearchPage,\n  prevSearchPage,\n  changeSearchPageNumber,\n};\n","'use strict';\n\nimport refs from './utils/refs';\nimport './view/toTopButton';\nimport homePageMarkup from '../templates/homePageMarkup';\nimport initialFetchAPI from './services/initialFetchApi';\nimport drawMovieDetails from './4filmDetailsPage';\nimport searchFetch from './services/fetchSearchMovies';\nimport {\n  setWatchedLocalStorage,\n  setQueueLocalStorage,\n} from './localStorage/localStorage';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport '@fortawesome/fontawesome-free/js/all.js';\nimport {\n  nextPage,\n  prevPage,\n  nextSearchPage,\n  prevSearchPage,\n  changeSearchPageNumber,\n} from './2searchAndPlaginationHomePage';\nimport { changePageNumber } from './2searchAndPlaginationHomePage';\nimport {\n  buttonCheckWatched,\n  buttonCheckQueue,\n  activeToggle,\n} from './view/buttonCheck';\n\nconst debounce = require('lodash.debounce');\nconst Handlebars = require('handlebars');\n\nHandlebars.registerHelper('slice', function(aString) {\n  return aString.slice(0, 4);\n});\n\nconst typeOfQueueForBack = {\n  listType: makeOnePage,\n  counterType: changePageNumber,\n};\n\nfunction makeHomePage() {\n  refs.homePage.innerHTML = '';\n  refs.detailsPage.innerHTML = '';\n  refs.myLibList.innerHTML = '';\n  refs.homePage.insertAdjacentHTML('beforeend', homePageMarkup);\n  refs.myLibHome = document.querySelector('#mylib-home');\n  refs.paginationSection = document.querySelector('.home__button');\n  refs.prevButton = document.querySelector('#button-prev');\n  refs.pageButton = document.querySelector('#button-page');\n  refs.nextButton = document.querySelector('#button-next');\n\n  refs.myLibHome.addEventListener('click', drawMovieDetails);\n  refs.searchInput = document.querySelector('#search-input');\n  refs.searchInput.addEventListener('input', debounce(firstSearchMovies, 600));\n}\n\nmakeHomePage();\n\nfunction firstTimeHomePage() {\n  initialFetchAPI.page = 1;\n  makeHomePage();\n}\n\nfunction makeOnePage() {\n  typeOfQueueForBack.listType = makeOnePage;\n  typeOfQueueForBack.counterType = changePageNumber;\n  initialFetchAPI\n    .fetchPopularFilms()\n    .then(({ results }) => {\n      results.map(result =>\n        refs.myLibHome.insertAdjacentHTML(\n          'beforeend',\n          `  <li class=\"home__list-item forJS\" data-index=\"${result.id}\">\n        <div class=\"home__list--cover\">\n          <div class=\"home__list-rate\">\n            <p>${result.vote_average}</p>\n          </div>\n          <h2 class=\"home__list-header\">${\n            result.title\n          } (${result.release_date.slice(0, 4)})</h2>\n        </div>\n        <img class=\"home__list-item__img\" src=\"http://image.tmdb.org/t/p/w500${\n          result.poster_path\n        }\" alt=\"poster of ${result.title}\" />\n        <div class=\"home__list--hover\">\n        <button type=\"button\" class=\"home__list--hover-star for_button\">Watched</button>\n        <button type=\"button\" class=\"home__list--hover-heart for_button\">Queue</button>\n        </div>\n      </li>\n    `,\n        ),\n      );\n    })\n    .then(() => {\n      refs.nextButton.removeEventListener('click', nextSearchPage);\n      refs.prevButton.removeEventListener('click', prevSearchPage);\n      refs.nextButton.addEventListener('click', nextPage);\n      refs.prevButton.addEventListener('click', prevPage);\n      refs.myLibHome.addEventListener('click', ToLocalStorage);\n      refs.myLibHome.addEventListener('click', activeToggle);\n      refs.movieItems = document.querySelectorAll('.home__list-item');\n    })\n    .then(() => {\n      const storageWatchedItems =\n        JSON.parse(localStorage.getItem('watched')) || [];\n      const storageQueueItems = JSON.parse(localStorage.getItem('queue')) || [];\n      const idOfWathcedItems = storageWatchedItems.map(({ id }) => id);\n      const idOfQueueItems = storageQueueItems.map(({ id }) => id);\n      const arrayOfMovieItems = Array.from(refs.movieItems);\n\n      arrayOfMovieItems.map(el => {\n        buttonCheckWatched(el, idOfWathcedItems);\n        buttonCheckQueue(el, idOfQueueItems);\n        return;\n      });\n    })\n    .catch(console.warn);\n}\n\nfunction ToLocalStorage({ target }) {\n  if (target.classList.contains('home__list--hover-star')) {\n    setWatchedLocalStorage(event);\n  } else if (target.classList.contains('home__list--hover-heart')) {\n    setQueueLocalStorage(event);\n  } else {\n    return;\n  }\n}\n\nmakeOnePage();\n\nfunction firstSearchMovies() {\n  searchFetch.page = 1;\n  searchMovies();\n  typeOfQueueForBack.listType = searchMovies;\n  typeOfQueueForBack.counterType = changeSearchPageNumber;\n}\n\nfunction searchMovies() {\n  const input = refs.searchInput.value || searchFetch.query;\n  if (input === '') {\n    return;\n  }\n  searchFetch.query = input;\n  refs.myLibHome.innerHTML = '';\n  searchFetch\n    .fetchSearchMovies()\n    .then(({ results }) => {\n      if (results.length === 0) {\n        refs.paginationSection.classList.add('hidden');\n        return refs.myLibHome.insertAdjacentHTML(\n          'beforeend',\n          `<div class=\"no-list\">\n          <h2 class=\"no-list__item\">Sorry, no movies found :(</h2>\n            <h3 class=\"no-list__item\">Try another name :)</h3>\n            </div>`,\n        );\n      }\n      refs.paginationSection.classList.remove('hidden');\n      results.map(result =>\n        refs.myLibHome.insertAdjacentHTML(\n          'beforeend',\n          `  <li class=\"home__list-item forJS\" data-index=\"${result.id}\">\n\n        <div class=\"home__list--cover\">\n          <div class=\"home__list-rate\">\n            <p>${result.vote_average}</p>\n          </div>\n          <h2 class=\"home__list-header\">${\n            result.title\n          } (${result.release_date.slice(0, 4)})</h2>\n        </div>\n        <img class=\"home__list-item__img\" src=\"http://image.tmdb.org/t/p/w500${\n          result.poster_path\n        }\" alt=\"poster of ${result.title}\" />\n        <div class=\"home__list--hover\">\n        <button type=\"button\" class=\"home__list--hover-star for_button\">Watched</button>\n        <button type=\"button\" class=\"home__list--hover-heart for_button\">Queue</button>\n        </div>\n      </li>\n    `,\n        ),\n      );\n    })\n    .then(() => {\n      refs.nextButton.removeEventListener('click', nextPage);\n      refs.prevButton.removeEventListener('click', prevPage);\n      refs.nextButton.addEventListener('click', nextSearchPage);\n      refs.prevButton.addEventListener('click', prevSearchPage);\n      refs.myLibHome.addEventListener('click', ToLocalStorage);\n      refs.myLibHome.addEventListener('click', activeToggle);\n      refs.movieItems = document.querySelectorAll('.home__list-item');\n    })\n    .then(() => {\n      const storageWatchedItems =\n        JSON.parse(localStorage.getItem('watched')) || [];\n      const storageQueueItems = JSON.parse(localStorage.getItem('queue')) || [];\n      const idOfWathcedItems = storageWatchedItems.map(({ id }) => id);\n      const idOfQueueItems = storageQueueItems.map(({ id }) => id);\n      const arrayOfMovieItems = Array.from(refs.movieItems);\n\n      arrayOfMovieItems.map(el => {\n        buttonCheckWatched(el, idOfWathcedItems);\n        buttonCheckQueue(el, idOfQueueItems);\n        return;\n      });\n    })\n    .catch(console.warn);\n}\n\nexport {\n  makeOnePage,\n  makeHomePage,\n  firstTimeHomePage,\n  searchMovies,\n  ToLocalStorage,\n  typeOfQueueForBack,\n};\n","const myLibPageMarkup = `\r\n<nav class=\"libnav\">\r\n<ul class=\"list libnav__list\">\r\n  <li class=\"libnav__item-item\">\r\n    <button type=\"button\" id=\"watched-button\" class=\"link libnav__button\">\r\n      Watched\r\n    </button>\r\n  </li>\r\n  <li class=\"nav__item-item\">\r\n    <button type=\"button\" id=\"queue-button\" class=\"link libnav__button\">\r\n      Queue\r\n    </button>\r\n  </li>\r\n</ul>\r\n</nav>\r\n<ul id=\"mylib-home\" class=\"list home__list\"></ul>`;\r\n\r\nexport default myLibPageMarkup;\r\n","import myLibPageMarkup from '../templates/myLibPageMarkup';\r\nimport refs from './utils/refs';\r\nimport filmListMarkupFromLocalStor from '..//templates/filmListMarkupFromLocalStor.hbs';\r\nimport drawMovieDetails from './4filmDetailsPage';\r\nimport toTop from './view/toTopButton';\r\nimport { ToLocalStorage } from './1InitialHomePage';\r\nimport { typeOfQueueForBack } from './1InitialHomePage';\r\nimport {\r\n  buttonCheckWatched,\r\n  buttonCheckQueue,\r\n  activeToggle,\r\n} from './view/buttonCheck';\r\n\r\nfunction initialMyLibPage() {\r\n  refs.homePage.innerHTML = '';\r\n  refs.detailsPage.innerHTML = '';\r\n  refs.myLibList.innerHTML = '';\r\n  refs.myLibList.insertAdjacentHTML('beforeend', myLibPageMarkup);\r\n  refs.watchedButton = document.querySelector('#watched-button');\r\n  refs.queueButton = document.querySelector('#queue-button');\r\n  refs.myLibHome = document.querySelector('#mylib-home');\r\n\r\n  refs.watchedButton.addEventListener('click', () => {\r\n    makeListOfWatched();\r\n    typeOfQueueForBack.listType = makeLibPage;\r\n  });\r\n  refs.queueButton.addEventListener('click', () => {\r\n    makeListOfQueue();\r\n    typeOfQueueForBack.listType = makeLibPageFromQueue;\r\n  });\r\n  refs.myLibHome.addEventListener('click', drawMovieDetails);\r\n  refs.myLibHome.addEventListener('click', ToLocalStorage);\r\n}\r\n\r\nfunction makeLibPage() {\r\n  initialMyLibPage();\r\n\r\n  makeListOfWatched();\r\n  typeOfQueueForBack.listType = makeLibPage;\r\n  toTop();\r\n}\r\n\r\nfunction makeLibPageFromQueue() {\r\n  initialMyLibPage();\r\n\r\n  makeListOfQueue();\r\n  typeOfQueueForBack.listType = makeListOfQueue;\r\n  toTop();\r\n}\r\n\r\nfunction makeListOfWatched() {\r\n  refs.myLibHome.innerHTML = '';\r\n  refs.queueButton.classList.remove('active-nav-button');\r\n  refs.watchedButton.classList.add('active-nav-button');\r\n  const fromLocalStorage = JSON.parse(localStorage.getItem('watched'));\r\n  if (fromLocalStorage === null || fromLocalStorage.length === 0) {\r\n    return refs.myLibHome.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class=\"no-list\">\r\n      <h2 class=\"no-list__item\">You do not have watched movies :(</h2>\r\n        <h3 class=\"no-list__item\">Add them :)</h3>\r\n        </div>`,\r\n    );\r\n  }\r\n  const markup = fromLocalStorage\r\n    .map(result => filmListMarkupFromLocalStor(result))\r\n    .join('');\r\n  refs.myLibHome.insertAdjacentHTML('beforeend', markup);\r\n  refs.myLibHome.addEventListener('click', activeToggle);\r\n  refs.movieItems = document.querySelectorAll('.home__list-item');\r\n\r\n  const storageWatchedItems = JSON.parse(localStorage.getItem('watched')) || [];\r\n  const storageQueueItems = JSON.parse(localStorage.getItem('queue')) || [];\r\n  const idOfWathcedItems = storageWatchedItems.map(({ id }) => id);\r\n  const idOfQueueItems = storageQueueItems.map(({ id }) => id);\r\n  const arrayOfMovieItems = Array.from(refs.movieItems);\r\n\r\n  arrayOfMovieItems.map(el => {\r\n    buttonCheckWatched(el, idOfWathcedItems);\r\n    buttonCheckQueue(el, idOfQueueItems);\r\n    return;\r\n  });\r\n}\r\n\r\nfunction makeListOfQueue() {\r\n  refs.myLibHome.innerHTML = '';\r\n  refs.watchedButton.classList.remove('active-nav-button');\r\n  refs.queueButton.classList.add('active-nav-button');\r\n  const fromLocalStorage = JSON.parse(localStorage.getItem('queue'));\r\n  if (fromLocalStorage === null || fromLocalStorage.length === 0) {\r\n    return refs.myLibHome.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class=\"no-list\">\r\n      <h2 class=\"no-list__item\">There are no movies in queue list :(</h2>\r\n        <h3 class=\"no-list__item\">Add them :)</h3>\r\n        </div>`,\r\n    );\r\n  }\r\n  const markup = fromLocalStorage\r\n    .map(result => filmListMarkupFromLocalStor(result))\r\n    .join('');\r\n  refs.myLibHome.insertAdjacentHTML('beforeend', markup);\r\n  refs.myLibHome.addEventListener('click', activeToggle);\r\n  refs.movieItems = document.querySelectorAll('.home__list-item');\r\n\r\n  const storageWatchedItems = JSON.parse(localStorage.getItem('watched')) || [];\r\n  const storageQueueItems = JSON.parse(localStorage.getItem('queue')) || [];\r\n  const idOfWathcedItems = storageWatchedItems.map(({ id }) => id);\r\n  const idOfQueueItems = storageQueueItems.map(({ id }) => id);\r\n  const arrayOfMovieItems = Array.from(refs.movieItems);\r\n\r\n  arrayOfMovieItems.map(el => {\r\n    buttonCheckWatched(el, idOfWathcedItems);\r\n    buttonCheckQueue(el, idOfQueueItems);\r\n    return;\r\n  });\r\n}\r\n\r\nexport default makeLibPage;\r\n","import refs from './utils/refs';\r\nimport { firstTimeHomePage, makeOnePage } from './1InitialHomePage';\r\nimport makeLibPageFromWathed from './5libraryPage';\r\n\r\nrefs.logo.addEventListener('click', firstTimeHomePage);\r\nrefs.logo.addEventListener('click', makeOnePage);\r\nrefs.homeButton.addEventListener('click', firstTimeHomePage);\r\nrefs.homeButton.addEventListener('click', makeOnePage);\r\nrefs.myLibButton.addEventListener('click', makeLibPageFromWathed);\r\n"],"sourceRoot":""}