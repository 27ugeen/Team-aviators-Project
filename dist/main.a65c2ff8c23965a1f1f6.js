(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{MgTF:function(e,t,n){var i=n("mp5j");e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'<li class="home__list-item forJS" data-index="'+c(typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)===r?a.call(s,{name:"id",hash:{},data:o,loc:{start:{line:1,column:46},end:{line:1,column:52}}}):a)+'">\r\n    <div class="home__list--cover">\r\n        <div class="home__list-rate">\r\n            <p>'+c(typeof(a=null!=(a=n.votes||(null!=t?t.votes:t))?a:l)===r?a.call(s,{name:"votes",hash:{},data:o,loc:{start:{line:4,column:15},end:{line:4,column:24}}}):a)+'</p>\r\n        </div>\r\n        <h2 class="home__list-header">'+c(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)===r?a.call(s,{name:"title",hash:{},data:o,loc:{start:{line:6,column:38},end:{line:8,column:12}}}):a)+" ("+c(typeof(a=null!=(a=n.year||(null!=t?t.year:t))?a:l)===r?a.call(s,{name:"year",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:22}}}):a)+')</h2>\r\n    </div>\r\n    <img class="home__list-item__img" src="'+c(typeof(a=null!=(a=n.poster||(null!=t?t.poster:t))?a:l)===r?a.call(s,{name:"poster",hash:{},data:o,loc:{start:{line:10,column:43},end:{line:12,column:10}}}):a)+'" alt="poster of '+c(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)===r?a.call(s,{name:"title",hash:{},data:o,loc:{start:{line:12,column:27},end:{line:12,column:36}}}):a)+'" />\r\n    <div class="home__list--hover">\r\n        <button type="button" class="home__list--hover-star for_button">Watched</button>\r\n        <button type="button" class="home__list--hover-heart for_button">Queue</button>\r\n    </div>\r\n</li>'},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("yjly"),n("Anew"),n("UOjr"),n("4owi"),n("lmye"),n("WB5j"),n("WoWj");var i={homePage:document.querySelector("#home-page"),detailsPage:document.querySelector("#film-info"),myLibList:document.querySelector("#mylib-list"),ScrollButton:document.querySelector(".scroll__button"),logo:document.querySelector("#logo-button"),homeButton:document.querySelector("#home-button"),myLibButton:document.querySelector("#library-button")};i.ScrollButton.addEventListener("click",(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}));var o='  \n<form action="#" class="home__search">\n  <input\n    id="search-input"\n    type=""\n    name="query"\n    placeholder="Write here movie name :)"\n    class="home__input"\n  />\n</form>\n<ul id="mylib-home" class="list home__list"></ul>\n<div class="home__button">\n<button type="button" id="button-prev" class="btn home__button-prew">Prev</button>\n<button type="button" id="button-page" class="btn home__button-page">1</button>\n<button type="button" id="button-next" class="btn home__button-next">Next</button>\n</div>',a=(n("JBxO"),n("FdtR"),{page:1,fetchPopularFilms:function(){return fetch("https://api.themoviedb.org/3/movie/popular?api_key=259c02d1f1f516a6001436d2cce8084d&page="+this.page).then((function(e){return e.json()})).catch(console.log)},incrementPage:function(){this.page++},decrementPage:function(){this.page--}}),s=(n("8cZI"),n("D/wG"),"259c02d1f1f516a6001436d2cce8084d"),l="https://api.themoviedb.org/3/movie";var r=function(e){var t=e.target;return fetch(l+"/"+t.closest(".forJS").dataset.index+"?api_key="+s).then((function(e){return e.json()})).catch(console.log)},c=(n("lYjL"),n("IvQZ"),n("4NM0"),n("dIfx"));n("IlkV");c.a.defaults.minWidth="280px",c.a.defaults.width="80%",c.a.defaults.maxWidth="420px",c.a.defaults.delay=5e3,c.a.defaults.styling="material",c.a.defaults.icons="material",c.a.defaults.mouseReset=!1;var u=function(e,t){void 0===window.stackBottomRight&&(window.stackBottomRight={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25});var n={title:"Hey! :)",text:'you have added "'+t+'" to the queue list!',type:"success",stack:window.stackBottomRight,modules:{Desktop:{desktop:!0},History:{maxInStack:2},Animate:{animate:!0,inClass:"zoomInLeft",outClass:"zoomOutRight"}}};switch(e){case"addWatched":n.title="Congrats! :)",n.text='You have added "'+t+'" to the watched list!',n.type="success";break;case"addQueue":n.title="Hey! :)",n.text='you have added "'+t+'" to the queue list!',n.type="success";break;case"removeWatched":n.title="Okey :)",n.text='So "'+t+'" is not anymore in your watched list!',n.type="info";break;case"removeQueue":n.title="Hey :)",n.text='You just removed "'+t+'" from your queue list!',n.type="info"}c.a.alert(n)};function m(e){var t={};r(e).then((function(e){t.id=e.id,t.poster="http://image.tmdb.org/t/p/w500"+e.poster_path,t.title=e.title,t.votes=e.vote_average,t.year=e.release_date.slice(0,4);var n=JSON.parse(localStorage.getItem("watched"))||[];if(n.map((function(e){return e.id})).includes(e.id)){var i=n.filter((function(t){return t.id!==e.id}));return localStorage.setItem("watched",JSON.stringify(i)),u("removeWatched",e.title)}n.push(t),localStorage.setItem("watched",JSON.stringify(n)),u("addWatched",e.title)}))}function d(e){var t={};r(e).then((function(e){t.id=e.id,t.poster="http://image.tmdb.org/t/p/w500"+e.poster_path,t.title=e.title,t.votes=e.vote_average,t.year=e.release_date.slice(0,4);var n=JSON.parse(localStorage.getItem("queue"))||[];if(n.map((function(e){return e.id})).includes(e.id)){var i=n.filter((function(t){return t.id!==e.id}));return localStorage.setItem("queue",JSON.stringify(i)),u("removeQueue",e.title)}n.push(t),localStorage.setItem("queue",JSON.stringify(n)),u("addQueue",e.title)}))}n("fp7Y");function h(e,t){var n=Number(e.dataset.index),i=e.lastElementChild.firstElementChild;t.includes(n)?i.classList.add("inList"):i.classList.remove("inList")}function v(e,t){var n=Number(e.dataset.index),i=e.lastElementChild.lastElementChild;t.includes(n)?i.classList.add("inList"):i.classList.remove("inList")}function f(e){var t=e.target;t.hasAttribute("type")&&t.classList.toggle("inList")}var p=function(){a.page;T(),E.listType(),E.counterType()};function b(e){var t=e.target;if(t.classList.contains("film-details--hover-star"))m(event);else{if(!t.classList.contains("film-details--hover-heart"))return;d(event)}}var _=function(e){var t=e.target;t.classList.contains("home__list--cover")&&!t.classList.contains("home__list--hover-button")&&(i.myLibHome.innerHTML="",i.myLibList.innerHTML="",i.homePage.innerHTML="",r(event).then((function(e){var t,n,o,a;i.detailsPage.insertAdjacentHTML("afterbegin",'<img\n      class="film-details-image"\n      src="http://image.tmdb.org/t/p/w500'+e.poster_path+'"\n      alt="'+e.title+'"\n    />\n    <h2 class="film-details-title">'+e.title+" ("+e.release_date.slice(0,4)+')</h2>\n    <ul class="film-info">\n      <li class="film-info-item green-item">\n        <div class="film-info-item__note first-note">vote / votes</div>\n        <div class="film-info-item__note next-note">'+e.vote_average+"  / "+e.vote_count+'</div>\n      </li>\n      <li class="film-info-item white-item">\n        <div class="film-info-item__note first-note">popularity</div>\n        <div class="film-info-item__note next-note">'+e.popularity+'</div>\n      </li>\n      <li class="film-info-item green-item">\n        <div class="film-info-item__note first-note">original title</div>\n        <div class="film-info-item__note next-note">'+e.original_title+'</div>\n      </li>\n      <li class="film-info-item white-item">\n        <div class="film-info-item__note first-note">genre</div>\n        <div class="film-info-item__note next-note">\n          '+e.genres.map((function(e){return e.name})).join(", ")+'\n        </div>\n      </li>\n    </ul>\n    <h3 class="film-details-semititle forJS" >About</h3>\n    <p class="film-details-text">\n      '+e.overview+'\n    </p>\n    <div class="forJS film-details--hover" data-index="'+e.id+'">\n    <button type="button" class="film-details--hover-star for_details-button">Watched</button>\n    <button type="button" class="film-details--hover-heart for_details-button">Queue</button>\n    </div>\n    <button type="button" id="button-back" class="btn film-details__button-back">Back</button>'),i.backButton=document.querySelector("#button-back"),i.forMyLibButtons=document.querySelector(".film-details--hover"),i.backButton.addEventListener("click",p),i.detailsPage.addEventListener("click",b),i.forMyLibButtons.addEventListener("click",f),t=i.forMyLibButtons,n=Number(t.dataset.index),o=(JSON.parse(localStorage.getItem("queue"))||[]).map((function(e){return e.id})),a=t.firstElementChild,o.includes(n)?a.classList.add("inList"):a.classList.remove("inList"),function(e){var t=Number(e.dataset.index),n=(JSON.parse(localStorage.getItem("queue"))||[]).map((function(e){return e.id})),i=e.lastElementChild;n.includes(t)?i.classList.add("inList"):i.classList.remove("inList")}(i.forMyLibButtons)})),i.myLibHome.removeEventListener("click",r))},y={query:"",page:1,fetchSearchMovies:function(){return fetch("https://api.themoviedb.org/3/search/movie?api_key=259c02d1f1f516a6001436d2cce8084d&page="+this.page+"&query="+this.query).then((function(e){return e.json()})).catch(console.log)},incrementPage:function(){this.page++},decrementPage:function(){this.page--}},g=(n("0iy3"),n("K5zR"),function(){var e=a.page;return i.pageButton.textContent=e}),L=function(e){i.myLibHome.innerHTML="",a.incrementPage(),console.log(e),B(),g()},S=function(){a.page<=1||(i.myLibHome.innerHTML="",a.decrementPage(),B(),g())},H=function(){var e=y.page;return i.pageButton.textContent=e},k=function(){i.myLibHome.innerHTML="",y.incrementPage(),I(),H()},q=function(){y.page<=1||(i.myLibHome.innerHTML="",y.decrementPage(),I(),H())},w=n("jffb");function T(){i.homePage.innerHTML="",i.detailsPage.innerHTML="",i.myLibList.innerHTML="",i.homePage.insertAdjacentHTML("beforeend",o),i.myLibHome=document.querySelector("#mylib-home"),i.paginationSection=document.querySelector(".home__button"),i.prevButton=document.querySelector("#button-prev"),i.pageButton=document.querySelector("#button-page"),i.nextButton=document.querySelector("#button-next"),i.myLibHome.addEventListener("click",_),i.searchInput=document.querySelector("#search-input"),i.searchInput.addEventListener("input",w(M,600))}n("KzXF").registerHelper("slice",(function(e){return e.slice(0,4)})),T();var B=function(){a.fetchPopularFilms().then((function(e){e.results.map((function(e){return i.myLibHome.insertAdjacentHTML("beforeend",'  <li class="home__list-item forJS" data-index="'+e.id+'">\n        <div class="home__list--cover">\n          <div class="home__list-rate">\n            <p>'+e.vote_average+'</p>\n          </div>\n          <h2 class="home__list-header">'+e.title+" ("+e.release_date.slice(0,4)+')</h2>\n        </div>\n        <img class="home__list-item__img" src="http://image.tmdb.org/t/p/w500'+e.poster_path+'" alt="poster of '+e.title+'" />\n        <div class="home__list--hover">\n        <button type="button" class="home__list--hover-star for_button">Watched</button>\n        <button type="button" class="home__list--hover-heart for_button">Queue</button>\n        </div>\n      </li>\n    ')}))})).then((function(){i.nextButton.removeEventListener("click",k),i.prevButton.removeEventListener("click",q),i.nextButton.addEventListener("click",L),i.prevButton.addEventListener("click",S),i.myLibHome.addEventListener("click",x),i.myLibHome.addEventListener("click",f),i.movieItems=document.querySelectorAll(".home__list-item")})).then((function(){var e=JSON.parse(localStorage.getItem("watched"))||[],t=JSON.parse(localStorage.getItem("queue"))||[],n=e.map((function(e){return e.id})),o=t.map((function(e){return e.id}));Array.from(i.movieItems).map((function(e){h(e,n),v(e,o)}))}))};function x(e){var t=e.target;if(t.classList.contains("home__list--hover-star"))m(event);else{if(!t.classList.contains("home__list--hover-heart"))return;d(event)}}B();var E={listType:B,counterType:g};function M(){y.page=1,I(),E.listType=I,E.counterType=H}function I(){var e=i.searchInput.value||y.query;""!==e&&(y.query=e,i.myLibHome.innerHTML="",H(),y.fetchSearchMovies().then((function(e){var t=e.results;if(0===t.length)return i.paginationSection.classList.add("hidden"),i.myLibHome.insertAdjacentHTML("beforeend",'<div class="no-list">\n          <h2 class="no-list__item">Sorry, no movies found :(</h2>\n            <h3 class="no-list__item">Try another name :)</h3>\n            </div>');i.paginationSection.classList.remove("hidden"),t.map((function(e){return i.myLibHome.insertAdjacentHTML("beforeend",'  <li class="home__list-item forJS" data-index="'+e.id+'">\n\n        <div class="home__list--cover">\n          <div class="home__list-rate">\n            <p>'+e.vote_average+'</p>\n          </div>\n          <h2 class="home__list-header">'+e.title+" ("+e.release_date.slice(0,4)+')</h2>\n        </div>\n        <img class="home__list-item__img" src="http://image.tmdb.org/t/p/w500'+e.poster_path+'" alt="poster of '+e.title+'" />\n        <div class="home__list--hover">\n        <button type="button" class="home__list--hover-star for_button">Watched</button>\n        <button type="button" class="home__list--hover-heart for_button">Queue</button>\n        </div>\n      </li>\n    ')}))})).then((function(){i.nextButton.removeEventListener("click",L),i.prevButton.removeEventListener("click",S),i.nextButton.addEventListener("click",k),i.prevButton.addEventListener("click",q),i.myLibHome.addEventListener("click",x),i.myLibHome.addEventListener("click",f),i.movieItems=document.querySelectorAll(".home__list-item")})).then((function(){var e=JSON.parse(localStorage.getItem("watched"))||[],t=JSON.parse(localStorage.getItem("queue"))||[],n=e.map((function(e){return e.id})),o=t.map((function(e){return e.id}));Array.from(i.movieItems).map((function(e){h(e,n),v(e,o)}))})))}var J='\n<nav class="libnav">\n<ul class="list libnav__list">\n  <li class="libnav__item-item">\n    <button type="button" id="watched-button" class="link libnav__button">\n      Watched\n    </button>\n  </li>\n  <li class="nav__item-item">\n    <button type="button" id="queue-button" class="link libnav__button">\n      Queue\n    </button>\n  </li>\n</ul>\n</nav>\n<ul id="mylib-home" class="list home__list"></ul>',j=n("MgTF"),A=n.n(j);function N(){i.myLibHome.innerHTML="",i.queueButton.classList.remove("active-nav-button"),i.watchedButton.classList.add("active-nav-button");var e=JSON.parse(localStorage.getItem("watched"));if(null===e||0===e.length)return i.myLibHome.insertAdjacentHTML("beforeend",'<div class="no-list">\n      <h2 class="no-list__item">You do not have watched movies :(</h2>\n        <h3 class="no-list__item">Add them :)</h3>\n        </div>');var t=e.map((function(e){return A()(e)})).join("");i.myLibHome.insertAdjacentHTML("beforeend",t),i.myLibHome.addEventListener("click",f),i.movieItems=document.querySelectorAll(".home__list-item");var n=JSON.parse(localStorage.getItem("watched"))||[],o=JSON.parse(localStorage.getItem("queue"))||[],a=n.map((function(e){return e.id})),s=o.map((function(e){return e.id}));Array.from(i.movieItems).map((function(e){h(e,a),v(e,s)}))}var O=function e(){i.homePage.innerHTML="",i.detailsPage.innerHTML="",i.myLibList.innerHTML="",i.myLibList.insertAdjacentHTML("beforeend",J),i.watchedButton=document.querySelector("#watched-button"),i.queueButton=document.querySelector("#queue-button"),i.myLibHome=document.querySelector("#mylib-home"),N(),E.listType=e,i.watchedButton.addEventListener("click",(function(){N(),E.listType=e})),i.queueButton.addEventListener("click",(function(){!function(){i.myLibHome.innerHTML="",i.watchedButton.classList.remove("active-nav-button"),i.queueButton.classList.add("active-nav-button");var e=JSON.parse(localStorage.getItem("queue"));if(null===e||0===e.length)return i.myLibHome.insertAdjacentHTML("beforeend",'<div class="no-list">\n      <h2 class="no-list__item">There are no movies in queue list :(</h2>\n        <h3 class="no-list__item">Add them :)</h3>\n        </div>');var t=e.map((function(e){return A()(e)})).join("");i.myLibHome.insertAdjacentHTML("beforeend",t),i.myLibHome.addEventListener("click",f),i.movieItems=document.querySelectorAll(".home__list-item");var n=JSON.parse(localStorage.getItem("watched"))||[],o=JSON.parse(localStorage.getItem("queue"))||[],a=n.map((function(e){return e.id})),s=o.map((function(e){return e.id}));Array.from(i.movieItems).map((function(e){h(e,a),v(e,s)}))}(),E.listType=e})),i.myLibHome.addEventListener("click",_),i.myLibHome.addEventListener("click",x)};i.logo.addEventListener("click",T),i.logo.addEventListener("click",B),i.homeButton.addEventListener("click",T),i.homeButton.addEventListener("click",B),i.myLibButton.addEventListener("click",O)},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a65c2ff8c23965a1f1f6.js.map